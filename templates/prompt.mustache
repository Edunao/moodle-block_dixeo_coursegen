{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template block_dixeo_coursegen/prompt

    Dixeo Course Generator Prompt Template

    Data attributes required for JS:
    * generationurl

    Example context (json):
    {
        "generationurl": "https://example.com/blocks/dixeo_coursegen/ajax/generate_course.php",
        "course_description": "Create a course about..."
    }
}}
<div class="prompt-container d-block">
    <h2 class="text-center mb-4">{{#str}} heading, block_dixeo_coursegen {{/str}}</h2>
    <form class="py-3 generator-form">
        <div id="prompt-form" class="form-group position-relative mb-0">
            <textarea id="course_description" name="course_description" class="form-control px-2 mb-2" placeholder="{{#str}} prompt_placeholder, block_dixeo_coursegen {{/str}}">{{course_description}}</textarea>
            <div class="dropzone-message">{{#str}} draganddrop, block_dixeo_coursegen {{/str}}</div>
            <input type="file" id="temp_course_files" name="temp_course_files[]" class="form-control d-none" multiple="">
            <input type="file" id="course_files" name="course_files[]" class="form-control d-none" multiple="">
        </div>
        <div class="side-by-side">
            <label for="temp_course_files" class="label_course_files" title="{{#str}} attachfile, block_dixeo_coursegen {{/str}}">
                <i class="fa fa-paperclip fa-2x"></i>
            </label>
            <div id="file_names" class="mt-2"></div>
            <button id="generate_course" class="btn btn-secondary btn-circle position-absolute text-white d-flex align-items-center" title="{{#str}} generate_course, block_dixeo_coursegen {{/str}}">
                <img src="/blocks/dixeo_coursegen/pix/dixeo-white.svg" alt="Logo" width="25px" height="25px">
                <span>{{#str}} generate_course, block_dixeo_coursegen {{/str}}</span>
            </button>
        </div>
    </form>
</div>

{{#js}}
require(['block_dixeo_coursegen/generator'], function(Generator) {
    Generator.init('{{generationurl}}');
});
{{/js}}
