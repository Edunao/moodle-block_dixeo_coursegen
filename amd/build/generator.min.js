define(["jquery","core/ajax"],(function(e,s){return{init:function(){this.progress=0,"loading"===document.readyState?document.addEventListener("DOMContentLoaded",this.addInviteListener.bind(this)):this.addInviteListener()},addInviteListener:function(){let e=document.getElementById("edai_course_generator_form"),s=e.querySelector("#generate_course"),r=e.querySelector("#progress-spinner"),t=e.querySelector("#loader"),n=e.querySelector("#success_message_container");s.addEventListener("click",(e=>{e.preventDefault(),t.classList.replace("d-none","d-block"),0===this.progress?(this.startProgress(t),r.classList.add("spinner-border")):this.progress<100?(this.setProgress(t,100),n.classList.replace("d-none","d-block"),r.classList.remove("spinner-border")):(this.setProgress(t,0),n.classList.replace("d-block","d-none"),r.classList.remove("spinner-border"))}))},startProgress:function(e){let s=setInterval((()=>{this.progress>=90&&clearInterval(s);let r=Math.floor(5*Math.random());this.setProgress(e,this.progress+r)}),1e3)},setProgress:function(e,s){let r=e.querySelector(".s-progress--bar");r.style.width=`${s}%`,s>=100?r.classList.add("done"):r.classList.remove("done"),this.progress=s}}}));