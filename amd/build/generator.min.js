define(["jquery","core/ajax"],(function(e,t){return{init:function(){this.progress=0,"loading"===document.readyState?document.addEventListener("DOMContentLoaded",this.addInviteListener.bind(this)):this.addInviteListener()},addInviteListener:function(){let e=document.getElementById("edai_course_generator_form"),t=e.querySelector("#generate_course"),s=e.querySelector("#loader");t.addEventListener("click",(e=>{e.preventDefault(),s.classList.replace("d-none","d-block"),0===this.progress?this.startProgress(s):this.progress<100?this.setProgress(s,100):this.setProgress(s,0)}))},startProgress:function(e){let t=setInterval((()=>{this.progress>=90&&clearInterval(t);let s=Math.floor(5*Math.random());this.setProgress(e,this.progress+s)}),1e3)},setProgress:function(e,t){let s=e.querySelector(".s-progress--bar");s.style.width=`${t}%`,t>=100?s.classList.add("done"):s.classList.remove("done"),this.progress=t}}}));