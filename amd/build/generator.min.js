define(["jquery","core/ajax"],(function(e,s){return{init:function(){this.progress=0,"loading"===document.readyState?document.addEventListener("DOMContentLoaded",this.addInviteListener.bind(this)):this.addInviteListener()},addInviteListener:function(){let e=document.getElementById("edai_course_generator_form"),s=e.querySelector("#generate_course"),t=e.querySelector("#loader"),r=e.querySelector("#success_message_container");s.addEventListener("click",(e=>{e.preventDefault(),t.classList.replace("d-none","d-block"),0===this.progress?this.startProgress(t):this.progress<100?(this.setProgress(t,100),r.classList.replace("d-none","d-block")):(this.setProgress(t,0),r.classList.replace("d-block","d-none"))}))},startProgress:function(e){let s=setInterval((()=>{this.progress>=90&&clearInterval(s);let t=Math.floor(5*Math.random());this.setProgress(e,this.progress+t)}),1e3)},setProgress:function(e,s){let t=e.querySelector(".s-progress--bar");t.style.width=`${s}%`,s>=100?t.classList.add("done"):t.classList.remove("done"),this.progress=s}}}));